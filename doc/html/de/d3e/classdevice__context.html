<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libgpucrypto: device_context Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libgpucrypto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">device_context Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d0/de0/device__context_8hh_source.html">device_context.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71cf7de7537d79ccff735db333909d38"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#a71cf7de7537d79ccff735db333909d38">init</a> (const unsigned long size, const unsigned nstream)</td></tr>
<tr class="separator:a71cf7de7537d79ccff735db333909d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587948f6d4120575e20805d46e98a9e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#a587948f6d4120575e20805d46e98a9e0">sync</a> (const unsigned stream_id, const bool block=true)</td></tr>
<tr class="separator:a587948f6d4120575e20805d46e98a9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b0694aec84547210e4c030d3b8de6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#a82b0694aec84547210e4c030d3b8de6b">set_state</a> (const unsigned stream_id, const STATE state)</td></tr>
<tr class="separator:a82b0694aec84547210e4c030d3b8de6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a5dfdebfb49aca26810f7696abf100"><td class="memItemLeft" align="right" valign="top">STATE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#a02a5dfdebfb49aca26810f7696abf100">get_state</a> (const unsigned stream_id)</td></tr>
<tr class="separator:a02a5dfdebfb49aca26810f7696abf100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7de8d3adb516d1397a07fe807821aa"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#a8e7de8d3adb516d1397a07fe807821aa">get_dev_checkbits</a> (const unsigned stream_id)</td></tr>
<tr class="separator:a8e7de8d3adb516d1397a07fe807821aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66b74eb3019d5936c9759463c55e7f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#af66b74eb3019d5936c9759463c55e7f8">clear_checkbits</a> (const unsigned stream_id, const unsigned num_blks)</td></tr>
<tr class="separator:af66b74eb3019d5936c9759463c55e7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac47740180604321ca3c97e7f34d8f362"><td class="memItemLeft" align="right" valign="top">cudaStream_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#ac47740180604321ca3c97e7f34d8f362">get_stream</a> (const unsigned stream_id)</td></tr>
<tr class="separator:ac47740180604321ca3c97e7f34d8f362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8771ee68f705bf0a639dec3f7cafff09"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#a8771ee68f705bf0a639dec3f7cafff09">use_stream</a> ()</td></tr>
<tr class="separator:a8771ee68f705bf0a639dec3f7cafff09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad476e92913643562d591a05976a94aa3"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="../../d4/d45/classcuda__mem__pool.html">cuda_mem_pool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#ad476e92913643562d591a05976a94aa3">get_cuda_mem_pool</a> (const unsigned stream_id)</td></tr>
<tr class="separator:ad476e92913643562d591a05976a94aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49698947613774638bbcdeb522cf0721"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3e/classdevice__context.html#a49698947613774638bbcdeb522cf0721">get_elapsed_time</a> (const unsigned stream_id)</td></tr>
<tr class="separator:a49698947613774638bbcdeb522cf0721"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../de/d3e/classdevice__context.html">device_context</a> class.</p>
<p>help managing cuda stream state and memory allocation </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af66b74eb3019d5936c9759463c55e7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66b74eb3019d5936c9759463c55e7f8">&#9670;&nbsp;</a></span>clear_checkbits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void device_context::clear_checkbits </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>num_blks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset checkbits to 0 for new kernel execution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>Index of stream. If initilized to 0 stream then 0, otherwise from 1 to number of streams initialized. </td></tr>
    <tr><td class="paramname">num_blks</td><td>Length in bytes to be reset to 0. It should be same as the number of cuda blocks for kernel execution. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        assert(stream_id &gt;= 0 &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        assert(num_blks &gt;= 0 &amp;&amp; num_blks &lt;= MAX_BLOCKS);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        stream_ctx_[stream_id].num_blks = num_blks;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keyword">volatile</span> uint8_t *checkbits = stream_ctx_[stream_id].checkbits;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; num_blks; i++)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                checkbits[i] = 0;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        stream_ctx_[stream_id].finished = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_af66b74eb3019d5936c9759463c55e7f8_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_af66b74eb3019d5936c9759463c55e7f8_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_af66b74eb3019d5936c9759463c55e7f8_icgraph" id="de/d3e/classdevice__context_af66b74eb3019d5936c9759463c55e7f8_icgraph">
<area shape="rect" title=" " alt="" coords="600,99,743,141"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="384,5,552,32"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="384,56,552,83"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="385,107,551,133"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a3f1e698077fb70ffd5eea066d5f44eec" title=" " alt="" coords="397,158,539,199"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a6b35be02963e7b195be7a994eb81fe6d" title=" " alt="" coords="395,224,541,251"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a7c8a13f87bfd0c48297b119a9442face" title=" " alt="" coords="195,187,336,229"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#aebda21312331453648de596ad659972a" title=" " alt="" coords="5,187,147,229"/>
</map>
</div>

</div>
</div>
<a id="ad476e92913643562d591a05976a94aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad476e92913643562d591a05976a94aa3">&#9670;&nbsp;</a></span>get_cuda_mem_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d45/classcuda__mem__pool.html">cuda_mem_pool</a> * device_context::get_cuda_mem_pool </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves device memory pool to allocate memory for stream</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>index of stream 1 to 16 for streams, and 0 for default stream</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        assert(stream_id &gt;= 0 &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> &amp;stream_ctx_[stream_id].pool;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_ad476e92913643562d591a05976a94aa3_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_ad476e92913643562d591a05976a94aa3_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_ad476e92913643562d591a05976a94aa3_icgraph" id="de/d3e/classdevice__context_ad476e92913643562d591a05976a94aa3_icgraph">
<area shape="rect" title=" " alt="" coords="221,107,355,149"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="5,5,173,32"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="5,56,173,83"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a9c4b9ec90489cb61505c0d0fc2c71141" title=" " alt="" coords="16,107,163,149"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a4e565046430a3bc259b301ab9f0d3124" title=" " alt="" coords="16,173,163,214"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="7,239,172,265"/>
</map>
</div>

</div>
</div>
<a id="a8e7de8d3adb516d1397a07fe807821aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7de8d3adb516d1397a07fe807821aa">&#9670;&nbsp;</a></span>get_dev_checkbits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * device_context::get_dev_checkbits </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retreive the buffer storing the kernel execution finish check bits.</p>
<p>This buffer is used in sync function to check whether the kernel has finished or not. Executed kernel will set this each byte to 1 at the end of execution. We use checkbits instead of cudaStreamSynchronize because Calling cudaStreamSynchronize to a stream will block other streams from launching new kernels and it won't return before all previos launched kernel start execution according to CUDA manual 3.2. We use host mapped memory to avoid calling cudaStreamSyncrhonize and check whether kernel execution has finished or not so that multiple stream can run simultaneously without blocking others.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>Index of stream. If initilized to 0 stream then 0, otherwise from 1 to number of streams initialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a buffer </dd></dl>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        assert(stream_id &gt;= 0 &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> stream_ctx_[stream_id].checkbits_d;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_a8e7de8d3adb516d1397a07fe807821aa_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_a8e7de8d3adb516d1397a07fe807821aa_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_a8e7de8d3adb516d1397a07fe807821aa_icgraph" id="de/d3e/classdevice__context_a8e7de8d3adb516d1397a07fe807821aa_icgraph">
<area shape="rect" title=" " alt="" coords="600,99,733,141"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="384,5,552,32"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="384,56,552,83"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="385,107,551,133"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a3f1e698077fb70ffd5eea066d5f44eec" title=" " alt="" coords="397,158,539,199"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a6b35be02963e7b195be7a994eb81fe6d" title=" " alt="" coords="395,224,541,251"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a7c8a13f87bfd0c48297b119a9442face" title=" " alt="" coords="195,187,336,229"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#aebda21312331453648de596ad659972a" title=" " alt="" coords="5,187,147,229"/>
</map>
</div>

</div>
</div>
<a id="a49698947613774638bbcdeb522cf0721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49698947613774638bbcdeb522cf0721">&#9670;&nbsp;</a></span>get_elapsed_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t device_context::get_elapsed_time </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves the time took for the processing in the stream It will only return correct value when all the processing in the stream is finished and state of the stream is back to READY again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>index of stream 1 to 16 for streams, and 0 for default stream</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                assert(0 &lt;= stream_id &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="keywordflow">return</span> stream_ctx_[stream_id].end_usec - stream_ctx_[stream_id].begin_usec;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a02a5dfdebfb49aca26810f7696abf100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a5dfdebfb49aca26810f7696abf100">&#9670;&nbsp;</a></span>get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum STATE device_context::get_state </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>retrieve the state of the stream</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>Index of stream. If initilized to 0 stream then 0, otherwise from 1 to number of streams initialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current state of the stream </dd></dl>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        assert(stream_id &gt;= 0 &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> stream_ctx_[stream_id].state;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_a02a5dfdebfb49aca26810f7696abf100_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_a02a5dfdebfb49aca26810f7696abf100_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_a02a5dfdebfb49aca26810f7696abf100_icgraph" id="de/d3e/classdevice__context_a02a5dfdebfb49aca26810f7696abf100_icgraph">
<area shape="rect" title=" " alt="" coords="605,198,739,239"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="195,5,363,32"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="195,60,363,87"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a9c4b9ec90489cb61505c0d0fc2c71141" title=" " alt="" coords="205,118,352,159"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a4e565046430a3bc259b301ab9f0d3124" title=" " alt="" coords="205,197,352,238"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="196,291,361,317"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a3f1e698077fb70ffd5eea066d5f44eec" title=" " alt="" coords="413,409,555,450"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#ad25c770cf9dac126590d85c776a93d3f" title=" " alt="" coords="421,256,547,283"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a6b35be02963e7b195be7a994eb81fe6d" title=" " alt="" coords="411,357,557,384"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a3638659adca332c65dccb8291a056dd3" title=" " alt="" coords="421,104,547,131"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a7c8a13f87bfd0c48297b119a9442face" title=" " alt="" coords="208,367,349,409"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#aebda21312331453648de596ad659972a" title=" " alt="" coords="5,367,147,409"/>
</map>
</div>

</div>
</div>
<a id="ac47740180604321ca3c97e7f34d8f362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac47740180604321ca3c97e7f34d8f362">&#9670;&nbsp;</a></span>get_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cudaStream_t device_context::get_stream </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves cudaStream from stream index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>Index of stream. If initilized to 0 stream then 0, otherwise from 1 to number of streams initialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cudaStream </dd></dl>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        assert(stream_id &gt;= 0 &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span> stream_ctx_[stream_id].stream;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_ac47740180604321ca3c97e7f34d8f362_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_ac47740180604321ca3c97e7f34d8f362_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_ac47740180604321ca3c97e7f34d8f362_icgraph" id="de/d3e/classdevice__context_ac47740180604321ca3c97e7f34d8f362_icgraph">
<area shape="rect" title=" " alt="" coords="605,198,739,239"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="195,5,363,32"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="195,60,363,87"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a9c4b9ec90489cb61505c0d0fc2c71141" title=" " alt="" coords="205,118,352,159"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a4e565046430a3bc259b301ab9f0d3124" title=" " alt="" coords="205,197,352,238"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="196,291,361,317"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a3f1e698077fb70ffd5eea066d5f44eec" title=" " alt="" coords="413,409,555,450"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#ad25c770cf9dac126590d85c776a93d3f" title=" " alt="" coords="421,256,547,283"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a6b35be02963e7b195be7a994eb81fe6d" title=" " alt="" coords="411,357,557,384"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a3638659adca332c65dccb8291a056dd3" title=" " alt="" coords="421,104,547,131"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a7c8a13f87bfd0c48297b119a9442face" title=" " alt="" coords="208,367,349,409"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#aebda21312331453648de596ad659972a" title=" " alt="" coords="5,367,147,409"/>
</map>
</div>

</div>
</div>
<a id="a71cf7de7537d79ccff735db333909d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71cf7de7537d79ccff735db333909d38">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool device_context::init </td>
          <td>(</td>
          <td class="paramtype">const unsigned long&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>nstream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize device context. This function will allocate device memory and streams.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Total amount of memory per stream </td></tr>
    <tr><td class="paramname">nstream</td><td>Number of streams to use. Maximum 16 and minimum is 0. Use 0 if you want use default stream only. Be aware that using a single stream and no stream is different. For more information on how they differ, refer to CUDA manual. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when succesful, false otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordtype">void</span> *ret = NULL;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        assert(nstream &gt;= 0 &amp;&amp; nstream &lt;= MAX_STREAM);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        assert(init_ == <span class="keyword">false</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        init_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        nstream_ = nstream;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">if</span> (nstream_ &gt; 0) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1; i &lt;= nstream; i++) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                        checkCudaErrors(cudaStreamCreate(&amp;stream_ctx_[i].stream));</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                        <span class="keywordflow">if</span> (!stream_ctx_[i].pool.init(size))</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                        stream_ctx_[i].state = READY;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                        checkCudaErrors(cudaHostAlloc(&amp;ret, MAX_BLOCKS, cudaHostAllocMapped));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                        stream_ctx_[i].checkbits = (uint8_t*)ret;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                        checkCudaErrors(cudaHostGetDevicePointer((<span class="keywordtype">void</span> **)&amp;stream_ctx_[i].checkbits_d, ret, 0));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                stream_ctx_[0].stream = 0;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keywordflow">if</span> (!stream_ctx_[0].pool.init(size))</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                stream_ctx_[0].state = READY;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                checkCudaErrors(cudaHostAlloc(&amp;ret, MAX_BLOCKS, cudaHostAllocMapped));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                stream_ctx_[0].checkbits = (uint8_t*)ret;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                checkCudaErrors(cudaHostGetDevicePointer((<span class="keywordtype">void</span> **)&amp;stream_ctx_[0].checkbits_d, ret, 0));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a82b0694aec84547210e4c030d3b8de6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b0694aec84547210e4c030d3b8de6b">&#9670;&nbsp;</a></span>set_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void device_context::set_state </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const STATE&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the state of the stream. States indicates what is the current operation on-going.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>Index of stream. If initilized to 0 stream then 0, otherwise from 1 to number of streams initialized. </td></tr>
    <tr><td class="paramname">state</td><td>Describe the current state of stream. Currently there are three different states: READY, WAIT_KERNEL, WAIT_COPY. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        assert(stream_id &gt;= 0 &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">if</span> (state == READY) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                stream_ctx_[stream_id].end_usec = get_now();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                stream_ctx_[stream_id].num_blks = 0;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                stream_ctx_[stream_id].pool.reset();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state == WAIT_KERNEL) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                stream_ctx_[stream_id].begin_usec = get_now();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                stream_ctx_[stream_id].finished = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state == WAIT_COPY) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                stream_ctx_[stream_id].finished = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        stream_ctx_[stream_id].state = state;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_a82b0694aec84547210e4c030d3b8de6b_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_a82b0694aec84547210e4c030d3b8de6b_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_a82b0694aec84547210e4c030d3b8de6b_icgraph" id="de/d3e/classdevice__context_a82b0694aec84547210e4c030d3b8de6b_icgraph">
<area shape="rect" title=" " alt="" coords="605,198,739,239"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="195,5,363,32"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="195,60,363,87"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a9c4b9ec90489cb61505c0d0fc2c71141" title=" " alt="" coords="205,118,352,159"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a4e565046430a3bc259b301ab9f0d3124" title=" " alt="" coords="205,197,352,238"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="196,291,361,317"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a3f1e698077fb70ffd5eea066d5f44eec" title=" " alt="" coords="413,409,555,450"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#ad25c770cf9dac126590d85c776a93d3f" title=" " alt="" coords="421,256,547,283"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a6b35be02963e7b195be7a994eb81fe6d" title=" " alt="" coords="411,357,557,384"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a3638659adca332c65dccb8291a056dd3" title=" " alt="" coords="421,104,547,131"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a7c8a13f87bfd0c48297b119a9442face" title=" " alt="" coords="208,367,349,409"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#aebda21312331453648de596ad659972a" title=" " alt="" coords="5,367,147,409"/>
</map>
</div>

</div>
</div>
<a id="a587948f6d4120575e20805d46e98a9e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a587948f6d4120575e20805d46e98a9e0">&#9670;&nbsp;</a></span>sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool device_context::sync </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>stream_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>block</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether current operation has finished.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_id</td><td>Index of stream. If initilized to 0 stream then 0, otherwise from 1 to number of streams initialized. </td></tr>
    <tr><td class="paramname">block</td><td>Wait for current operation to finish. true by default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if stream is idle, and false if data copy or execution is in progress </dd></dl>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        assert(stream_id &gt;= 0 &amp;&amp; stream_id &lt;= nstream_);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        assert((stream_id == 0) ^ (nstream_ &gt; 0));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">if</span> (!block) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <span class="keywordflow">if</span> (stream_ctx_[stream_id].finished)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">if</span> (stream_ctx_[stream_id].state == WAIT_KERNEL &amp;&amp; stream_ctx_[stream_id].num_blks &gt; 0) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                        <span class="keyword">volatile</span> uint8_t *checkbits = stream_ctx_[stream_id].checkbits;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; stream_ctx_[stream_id].num_blks; i++) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                <span class="keywordflow">if</span> (checkbits[i] == 0)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stream_ctx_[stream_id].state != READY) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                        cudaError_t ret = cudaStreamQuery(stream_ctx_[stream_id].stream);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                        <span class="keywordflow">if</span> (ret == cudaErrorNotReady)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                        assert(ret == cudaSuccess);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                stream_ctx_[stream_id].finished = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                cudaStreamSynchronize(stream_ctx_[stream_id].stream);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_a587948f6d4120575e20805d46e98a9e0_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_a587948f6d4120575e20805d46e98a9e0_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_a587948f6d4120575e20805d46e98a9e0_icgraph" id="de/d3e/classdevice__context_a587948f6d4120575e20805d46e98a9e0_icgraph">
<area shape="rect" title=" " alt="" coords="605,64,748,91"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#ad25c770cf9dac126590d85c776a93d3f" title=" " alt="" coords="421,9,547,36"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a6b35be02963e7b195be7a994eb81fe6d" title=" " alt="" coords="411,64,557,91"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a3638659adca332c65dccb8291a056dd3" title=" " alt="" coords="421,173,547,200"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="196,5,361,32"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#a7c8a13f87bfd0c48297b119a9442face" title=" " alt="" coords="208,57,349,98"/>
<area shape="rect" href="../../dd/d40/classrsa__context__mp.html#aebda21312331453648de596ad659972a" title=" " alt="" coords="5,57,147,98"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="195,123,363,149"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="195,173,363,200"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a9c4b9ec90489cb61505c0d0fc2c71141" title=" " alt="" coords="205,225,352,266"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a4e565046430a3bc259b301ab9f0d3124" title=" " alt="" coords="205,290,352,331"/>
</map>
</div>

</div>
</div>
<a id="a8771ee68f705bf0a639dec3f7cafff09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8771ee68f705bf0a639dec3f7cafff09">&#9670;&nbsp;</a></span>use_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool device_context::use_stream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Query whether the device context is initialized to use stream or not.</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{ <span class="keywordflow">return</span> (nstream_ != 0); };</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d3e/classdevice__context_a8771ee68f705bf0a639dec3f7cafff09_icgraph.png" border="0" usemap="#de/d3e/classdevice__context_a8771ee68f705bf0a639dec3f7cafff09_icgraph" alt=""/></div>
<map name="de/d3e/classdevice__context_a8771ee68f705bf0a639dec3f7cafff09_icgraph" id="de/d3e/classdevice__context_a8771ee68f705bf0a639dec3f7cafff09_icgraph">
<area shape="rect" title=" " alt="" coords="221,107,357,149"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a32e08d6083d19476f285b6317da8771b" title=" " alt="" coords="5,5,173,32"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a350c3c86ba1d0769b6b7e4a5e6983afc" title=" " alt="" coords="5,56,173,83"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a9c4b9ec90489cb61505c0d0fc2c71141" title=" " alt="" coords="16,107,163,149"/>
<area shape="rect" href="../../d7/d01/classaes__context.html#a4e565046430a3bc259b301ab9f0d3124" title=" " alt="" coords="16,173,163,214"/>
<area shape="rect" href="../../d4/d50/classsha__context.html#a71f6f8b24db1f1f10a7e89c203bb7971" title=" " alt="" coords="7,239,172,265"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 10 2021 22:17:29 for libgpucrypto by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
